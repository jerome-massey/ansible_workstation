- hosts: localhost
  connection: local
  become: true
  tasks:
  - name: Install containerd separately (CentOS 8).
    package:
      name: https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm
      state: present
    when: ansible_distribution_major_version | int == 8
  - name: install epel and dnf plugins
    package:
      name: 
        - epel-release
        - dnf-plugins-core
  - name: add docker repository 
    command: dnf config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repo
  - name: install common applications
    package:
      name:
        - htop
        - docker-ce
        